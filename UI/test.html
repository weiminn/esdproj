<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">

  <title>Create group</title>

  <link rel="stylesheet" href="">
  <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <!-- Bootstrap libraries -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

  <!-- Latest compiled and minified JavaScript -->
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
</head>

<body>

  <button type="submit" class="btn btn-primary" id="createGrpOutingButton">Create</button>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script>
    var userid = localStorage.getItem("userid");
    localStorage.setItem("userid", userid);

    async function postData(serviceURL, requestBody) {

      var requestParam = {
        method: 'POST',
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(requestBody)
      }
      try {

        console.log(requestBody)
        const response = await fetch(serviceURL, requestParam);
        data = await response.json();

      } catch (error) {
        console.error(error);
      }
    }

    // anonymous async function 
    // - using await requires the function that calls it to be async
    $("#createGrpOutingButton").click(async (event) => {



      // Change serviceURL to your own

      var owner = userid
      var desc = $("#group_desc").val()
      // var serviceURL = "http://localhost:3003/UserGrpOuting/create"
      var serviceURL = "http://52.76.30.61:8000/api/v1/usergrpouting/create";
      // var serviceURL = "http://52.77.148.243:5100/usergrpouting/create";

      var requestBody = {
        CreatedBy: "HongHong",
        Description: "Automated"
      };

      postData(serviceURL, requestBody);
      

      // fetch(serviceURL, {
      //   method: 'POST', // or 'PUT'
      //   headers: {
      //     'Content-Type': 'application/json',
      //     'mode': 'cors',
      //   },
      //   body: JSON.stringify(requestBody),
      // })
      // .then((response) => response.json())
      // .then((data) => {
      //   console.log('Success:', data);
      // })
      // .catch((error) => {
      //   console.error('Error:', error);
      // });

    });

  </script>
</body>

</html>