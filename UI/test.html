<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">

  <title>Create group</title>

  <link rel="stylesheet" href="">
  <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <!-- Bootstrap libraries -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

  <!-- Latest compiled and minified JavaScript -->
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
</head>

<body>

  <button type="submit" class="btn btn-primary" id="createGrpOutingButton">Create</button>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script>
    var userid = localStorage.getItem("userid");
    localStorage.setItem("userid", userid);

    async function postData(serviceURL, requestBody) {
      var requestParam = {
        method: 'POST', body: requestBody
      }
      try {

        const response = await fetch(serviceURL, requestParam);
        data = await response.json();
        if (response.ok) {
          // window.location.href = "group.html?grpOutingID="+grpid;
          console.log("ok")
        }
      } catch (error) {
        //console.error(error);
      }
    }

    // anonymous async function 
    // - using await requires the function that calls it to be async
    $("#createGrpOutingButton").click(async (event) => {



      // Change serviceURL to your own
      event.preventDefault();

      var owner = userid
      var desc = $("#group_desc").val()
      // var serviceURL = "http://localhost:3003/UserGrpOuting/create"
      // var serviceURL = "http://52.76.30.61:8000/api/v1/usergrpouting/create";
      // var serviceURL = "http://localhost:8000/api/v1/usergrpouting/create";
      // var serviceURL = "http://52.77.148.243:5100/usergrpouting/create";
      



      

      // var requestOptions = {
      //   method: 'GET',
      //   redirect: 'follow'
      // };

      // fetch("http://52.76.30.61:8000/api/v1/UserGrpOuting/user/HongHong", requestOptions)
      // // fetch("http://localhost:3003/UserGrpOuting/user/HongHong", requestOptions)
      //   .then(response => response.text())
      //   .then(result => console.log(result))
      //   .catch(error => console.log('error', error));





      
      


      // var myHeaders = new Headers();
      // myHeaders.append("Content-Type", "application/x-www-form-urlencoded");

      // var urlencoded = new URLSearchParams();
      // urlencoded.append("UserID", "testtt");
      // urlencoded.append("GrpOutingID", "1");

      // var requestOptions = {
      //   method: 'POST',
      //   headers: myHeaders,
      //   body: urlencoded,
      //   redirect: 'follow'
      // };

      // // fetch("http://52.76.30.61:8000/api/v1/UserGrpOuting/join", requestOptions)
      // fetch("http://localhost:3003/UserGrpOuting/join", requestOptions)
      //   .then(response => response.text())
      //   .then(result => console.log(result))
      //   .catch(error => console.log('error', error));


      var myHeaders = new Headers();
      myHeaders.append("Content-Type", "application/x-www-form-urlencoded");

      var urlencoded = new URLSearchParams();
      urlencoded.append("CreatedBy", "HongHong");
      urlencoded.append("Description", "Dayout");

      var requestOptions = {
        method: 'POST',
        headers: myHeaders,
        body: urlencoded,
        redirect: 'follow'
      };

      // fetch("http://localhost:3003/UserGrpOuting/create", requestOptions)
      fetch("http://52.76.30.61:8000/api/v1/UserGrpOuting/create", requestOptions)
        .then(response => response.text())
        .then(result => console.log(result))
        .catch(error => console.log('error', error));



      
    });

  </script>
</body>

</html>